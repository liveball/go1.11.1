// Code generated by cmd/cgo; DO NOT EDIT.

//line /Users/fpf/Downloads/go1.11.1/misc/cgo/testplugin/src/plugin2/plugin2.go:1:1
// Copyright 2016 The Go Authors. All rights reserved.
// Use of this source code is governed by a BSD-style
// license that can be found in the LICENSE file.

package main

//#include <errno.h>
//#include <string.h>
import _ "unsafe"

// #include
// void cfunc() {} // uses cgo_topofstack

import (
	"common"
	"reflect"
	"strings"
)

func init() {
	_ = strings.NewReplacer() // trigger stack unwind, Issue #18190.
	(_Cfunc_strerror)((_Ciconst_EIO))         // uses cgo_topofstack
	common.X = 2
}

type sameNameReusedInPlugins struct {
	X string
}

type sameNameHolder struct {
	F *sameNameReusedInPlugins
}

func UnexportedNameReuse() {
	h := sameNameHolder{}
	v := reflect.ValueOf(&h).Elem().Field(0)
	newval := reflect.New(v.Type().Elem())
	v.Set(newval)
}

func main() {
	panic("plugin1.main called")
}
